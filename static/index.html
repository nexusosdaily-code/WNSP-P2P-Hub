<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WNSP Media Hub - Decentralized Knowledge Network</title>
    <link rel="stylesheet" href="css/media_player.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">üåê</div>
                    <h1>WNSP Media Hub</h1>
                </div>
                <div class="network-status">
                    <span class="status-indicator online"></span>
                    <span class="status-text">Mesh Network Active</span>
                    <span class="node-count">10 nodes</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Category Navigation -->
            <nav class="category-nav">
                <button class="category-btn active" data-category="all">
                    <span class="icon">üìö</span>
                    All Content
                </button>
                <button class="category-btn" data-category="university">
                    <span class="icon">üéì</span>
                    University
                </button>
                <button class="category-btn" data-category="refugee">
                    <span class="icon">üèïÔ∏è</span>
                    Refugee Resources
                </button>
                <button class="category-btn" data-category="rural">
                    <span class="icon">üåæ</span>
                    Rural Communities
                </button>
                <button class="category-btn" data-category="crisis">
                    <span class="icon">üö®</span>
                    Crisis Response
                </button>
            </nav>

            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search for videos, audio, documents..." id="searchInput">
                <span class="search-icon">üîç</span>
            </div>

            <!-- Upload Section -->
            <div class="upload-section">
                <button class="upload-btn" id="uploadBtn">
                    <span class="upload-icon">üì§</span>
                    Upload Media to WNSP Network
                </button>
                <a href="livestream.html" class="upload-btn" style="margin-left: 12px; text-decoration: none; display: inline-flex; align-items: center; gap: 8px;">
                    <span class="upload-icon">üìπ</span>
                    Go Live - Peer-to-Peer Broadcasting
                </a>
            </div>

            <!-- Upload Modal -->
            <div class="upload-modal" id="uploadModal" style="display: none;">
                <div class="upload-modal-content">
                    <div class="upload-modal-header">
                        <h2>Upload to WNSP Mesh Network</h2>
                        <button class="close-btn" id="closeUploadModal">‚úï</button>
                    </div>
                    <div class="upload-modal-body">
                        <div class="upload-drop-zone" id="uploadDropZone">
                            <div class="upload-icon-large">üìÅ</div>
                            <p class="upload-text">Drag & drop media files here</p>
                            <p class="upload-subtext">or click to browse</p>
                            <p class="upload-formats">MP3, MP4, PDF (max 100MB)</p>
                            <input type="file" id="fileInput" accept=".mp3,.mp4,.pdf" multiple style="display: none;">
                        </div>
                        <div class="upload-category-select">
                            <label for="uploadCategory">Target Community:</label>
                            <select id="uploadCategory" class="category-dropdown">
                                <option value="university">üéì University</option>
                                <option value="refugee">üèïÔ∏è Refugee Resources</option>
                                <option value="rural">üåæ Rural Communities</option>
                                <option value="crisis">üö® Crisis Response</option>
                            </select>
                        </div>
                        <div class="upload-progress" id="uploadProgress" style="display: none;">
                            <div class="progress-bar-upload">
                                <div class="progress-fill-upload" id="uploadProgressFill"></div>
                            </div>
                            <p class="progress-text" id="uploadProgressText">Uploading...</p>
                        </div>
                        <div class="upload-status" id="uploadStatus"></div>
                    </div>
                </div>
            </div>

            <!-- Media Grid -->
            <div class="media-section">
                <h2 class="section-title">Available Content</h2>
                <div class="media-grid" id="mediaGrid">
                    <!-- Media cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Currently Playing Section -->
            <div class="now-playing-section" id="nowPlayingSection" style="display: none;">
                <h2 class="section-title">Now Playing</h2>
                <div class="player-container">
                    <!-- Video Player -->
                    <div class="video-player-wrapper" id="videoPlayerWrapper" style="display: none;">
                        <video id="videoPlayer" class="video-player" controls></video>
                        <div class="video-info">
                            <h3 class="video-title" id="videoTitle"></h3>
                            <p class="video-meta" id="videoMeta"></p>
                        </div>
                    </div>

                    <!-- Audio Player -->
                    <div class="audio-player-wrapper" id="audioPlayerWrapper" style="display: none;">
                        <div class="audio-player">
                            <audio id="audioPlayer" class="audio-element"></audio>
                            <div class="audio-cover">
                                <div class="cover-art" id="coverArt">üéµ</div>
                            </div>
                            <div class="audio-info">
                                <h3 class="audio-title" id="audioTitle"></h3>
                                <p class="audio-artist" id="audioArtist"></p>
                            </div>
                            <div class="audio-controls">
                                <button class="control-btn" id="prevBtn">‚èÆ</button>
                                <button class="control-btn play-pause" id="playPauseBtn">‚ñ∂Ô∏è</button>
                                <button class="control-btn" id="nextBtn">‚è≠</button>
                                <button class="control-btn" id="shuffleBtn">üîÄ</button>
                                <button class="control-btn" id="repeatBtn">üîÅ</button>
                            </div>
                            <div class="progress-container">
                                <div class="time-display">
                                    <span id="currentTime">0:00</span>
                                    <span id="duration">0:00</span>
                                </div>
                                <div class="progress-bar" id="progressBar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                            </div>
                            <div class="volume-container">
                                <span class="volume-icon">üîä</span>
                                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
                            </div>
                        </div>
                    </div>

                    <!-- Document Viewer -->
                    <div class="document-viewer-wrapper" id="documentViewerWrapper" style="display: none;">
                        <iframe id="documentViewer" class="document-viewer"></iframe>
                        <div class="document-info">
                            <h3 class="document-title" id="documentTitle"></h3>
                            <p class="document-meta" id="documentMeta"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Network Stats -->
            <div class="network-stats">
                <div class="stat-card">
                    <div class="stat-icon">üì¶</div>
                    <div class="stat-info">
                        <span class="stat-value" id="cacheSize">0 MB</span>
                        <span class="stat-label">Cached Locally</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-info">
                        <span class="stat-value" id="energySpent">0.000</span>
                        <span class="stat-label">Energy (NXT)</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üì°</div>
                    <div class="stat-info">
                        <span class="stat-value" id="propagations">0</span>
                        <span class="stat-label">Propagations</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-info">
                        <span class="stat-value" id="cacheHitRate">0%</span>
                        <span class="stat-label">Cache Hit Rate</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>WNSP Media Hub - Decentralized Knowledge Network | GPL v3.0 License</p>
            <p class="footer-tagline">Empowering communities through physics-based mesh networking</p>
        </div>
    </footer>

    <script src="js/media_player_enhanced.js"></script>
</body>
</html>
